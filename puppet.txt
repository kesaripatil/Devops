https://puppet.com/docs/puppet/7/ssl_certificates.html
https://alibaba-cloud.medium.com/how-to-install-puppet-master-and-client-on-ubuntu-16-04-9f8c241125df
---

Terminologies

puppet, puppetserver, puppet-agent, puppetdb, hiera, facter, catalog, manifest, module


--

1. puppet is server config mgmt and automation tool.
2. puppet package -> [puppetserver, puppet-agent, puppetdb] - hiera & facter
3. works in agent-server architecture
4. puppet server and agent communicates over HTTPS using SSL certs.
5. facter collects data about agents like os, ip address, hostname.
6. puppet agent send these facts to server in a special puppet code file called manifest.
7. catalog - json file which is compiled by server and sent to agent describing the desired state of agent.
8. module manages the specific task. It contains both code & data.
9. hiera is a tool which separate the data and code and place it in a centralized location.
10. puppetdb stores all the data generated by puppet i.e catalog, reports, facts.
11. 

---
puppetserver.example.com

---
###########################################
# Init settings for puppetserver
###########################################

# Location of your Java binary (version 7 or higher)
JAVA_BIN="/usr/bin/java"

# Modify this if you'd like to change the memory allocation, enable JMX, etc
JAVA_ARGS="-Xms2g -Xmx2g -XX:MaxPermSize=256m"

# These normally shouldn't need to be edited if using OS packages
USER="puppet"
GROUP="puppet"
INSTALL_DIR="/opt/puppetlabs/server/apps/puppetserver"
CONFIG="/etc/puppetlabs/puppetserver/conf.d"

BOOTSTRAP_CONFIG="/etc/puppetlabs/puppetserver/services.d/,/opt/puppetlabs/server/apps/puppetserver/config/services.d/"

SERVICE_STOP_RETRIES=60

START_TIMEOUT=300

RELOAD_TIMEOUT=120

--


$puppetserver ca clean --certname weboniselab.local
The cadir is currently configured to be inside the /home/webonise/.puppetlabs/etc/puppet/ssl directory. This config setting and the directory location will not be used in a future version of puppet. Please run the puppetserver ca tool to migrate out from the puppet confdir to the /etc/puppetlabs/puppetserver/ca directory. Use `puppetserver ca migrate --help` for more info.
Fatal error when running action 'clean'
  Error: Could not find 'hostcert' at '/home/webonise/.puppetlabs/etc/puppet/ssl/certs/weboniselab.local.pem'


